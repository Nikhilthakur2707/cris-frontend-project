<!-- <div class="container-fluid my-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="text-center font-weight-bold flex-grow-1">Freight</h2>
      <span class="font-weight-bold">ANNEXURE A</span>
    </div>
    <h3 class="text-center">Table 1: Operating Indices</h3>
    <div class="table-responsive">
      <table class="table table-bordered text-center">
        <thead>
          <tr class="table-warning">
            <th rowspan="2" colspan="2" class="align-middle">Indices</th>
            <th colspan="1" rowspan="2" class="align-middle">Target</th>
            <th colspan="1" rowspan="2" class="align-middle">Units</th>
            <th colspan="2" class="align-middle">For the Month</th>
            <th colspan="3" class="align-middle">Up to this Month</th>
            
          </tr>
          <tr class="table-warning">
            <th class="align-middle">This year</th>
            <th class="align-middle">Last year</th>
            <th class="align-middle">This year</th>
            <th class="align-middle">Last year</th>
            <th class="align-middle">% VAR</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="2" class="text-left font-weight-bold"><b>NTKMs</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td colspan="2" class="text-left font-weight-bold"><b>Lead</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td rowspan="3" class="align-middle text-left font-weight-bold"><b>Loading (average per day)</b></td>
            <td class="text-left font-weight-bold"><b>Rakes</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td class="text-left font-weight-bold"><b>Wagons</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td class="text-left font-weight-bold"><b>Tonnes<br>(entire month)</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td rowspan="2" class="align-middle text-left font-weight-bold"><b>Loco Holding (daily average)</b></td>
            <td class="text-left font-weight-bold"><b>Diesel</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td class="text-left font-weight-bold"><b>Electric</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td rowspan="2" class="align-middle text-left font-weight-bold"><b>Loco Utilisation</b></td>
            <td class="text-left font-weight-bold"><b>Diesel</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td class="text-left font-weight-bold"><b>Electric</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
          <tr>
            <td class="align-middle text-left font-weight-bold"><b>Rake Holding</b></td>
            <td class="text-left font-weight-bold"><b>BOXN</b></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
            <td colspan=""></td>
          </tr>
        </tbody>
      </table>
    </div>
    </div> -->
    <div class="container-fluid my-4">
  <form [formGroup]="freightForm" (ngSubmit)="onSubmit()">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="text-center font-weight-bold flex-grow-1">Freight</h2>
      <span class="font-weight-bold">ANNEXURE A</span>
    </div>
    <h3 class="text-center">Table 1: Operating Indices</h3>
    
    <div class="table-responsive">
      <table class="table table-bordered text-center">
        <thead>
          <tr class="table-warning">
            <th rowspan="2" colspan="2" class="align-middle">Indices</th>
            <th colspan="1" rowspan="2" class="align-middle">Target</th>
            <th colspan="1" rowspan="2" class="align-middle">Units</th>
            <th colspan="2" class="align-middle">For the Month</th>
            <th colspan="3" class="align-middle">Up to this Month</th>
          </tr>
          <tr class="table-warning">
            <th class="align-middle">This year</th>
            <th class="align-middle">Last year</th>
            <th class="align-middle">This year</th>
            <th class="align-middle">Last year</th>
            <th class="align-middle">% VAR</th>
          </tr>
        </thead>
        <tbody>
          <!-- NTKMs Row -->
          <tr formGroupName="ntkms">
            <td colspan="2" class="text-left font-weight-bold"><b>NTKMs</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Lead Row -->
          <tr formGroupName="lead">
            <td colspan="2" class="text-left font-weight-bold"><b>Lead</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Loading - Rakes Row -->
          <tr formGroupName="loadingRakes">
            <td rowspan="3" class="align-middle text-left font-weight-bold"><b>Loading (average per day)</b></td>
            <td class="text-left font-weight-bold"><b>Rakes</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Loading - Wagons Row -->
          <tr formGroupName="loadingWagons">
            <td class="text-left font-weight-bold"><b>Wagons</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Loading - Tonnes Row -->
          <tr formGroupName="loadingTonnes">
            <td class="text-left font-weight-bold"><b>Tonnes<br>(entire month)</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Loco Holding - Diesel Row -->
          <tr formGroupName="locoHoldingDiesel">
            <td rowspan="2" class="align-middle text-left font-weight-bold"><b>Loco Holding (daily average)</b></td>
            <td class="text-left font-weight-bold"><b>Diesel</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Loco Holding - Electric Row -->
          <tr formGroupName="locoHoldingElectric">
            <td class="text-left font-weight-bold"><b>Electric</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Loco Utilisation - Diesel Row -->
          <tr formGroupName="locoUtilisationDiesel">
            <td rowspan="2" class="align-middle text-left font-weight-bold"><b>Loco Utilisation</b></td>
            <td class="text-left font-weight-bold"><b>Diesel</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Loco Utilisation - Electric Row -->
          <tr formGroupName="locoUtilisationElectric">
            <td class="text-left font-weight-bold"><b>Electric</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>

          <!-- Rake Holding - BOXN Row -->
          <tr formGroupName="rakeHoldingBoxn">
            <td class="align-middle text-left font-weight-bold"><b>Rake Holding</b></td>
            <td class="text-left font-weight-bold"><b>BOXN</b></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="target" placeholder="Target"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="units" placeholder="Units"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="forMonthLastYear" placeholder="Last Year"></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthThisYear" placeholder="This Year" required></td>
            <td><input type="number" class="form-control form-control-sm" formControlName="upToMonthLastYear" placeholder="Last Year"></td>
            <td><input type="text" class="form-control form-control-sm" formControlName="percentVar" readonly></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Form Actions -->
    <div class="d-flex justify-content-center mt-4">
      <button type="submit" class="btn btn-primary btn-lg mx-2" [disabled]="freightForm.invalid || isSubmitting">
        <span *ngIf="isSubmitting">
          <i class="fas fa-spinner fa-spin"></i> Submitting...
        </span>
        <span *ngIf="!isSubmitting">
          <i class="fas fa-save"></i> Submit Operating Indices
        </span>
      </button>
      <button type="button" class="btn btn-secondary btn-lg mx-2" (click)="onReset()" [disabled]="isSubmitting">
        <i class="fas fa-undo"></i> Reset Form
      </button>
    </div>

    <!-- Form Status -->
    <div class="mt-3 text-center" *ngIf="!freightForm.valid && !isSubmitting">
      <small class="text-danger">
        <i class="fas fa-exclamation-circle"></i> Please fill all required fields (This Year columns)
      </small>
    </div>
  </form>
</div>